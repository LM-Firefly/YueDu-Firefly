# 更新日志

- 关注公众号 **[开源阅读]** 菜单•软件下载 提前享受新版本。
- 关注合作公众号 **[小说拾遗]** 获取好看的小说。

## **必读**

【温馨提醒】 _更新前一定要做好备份，以免数据丢失！_

- 阅读只是一个转码工具，不提供内容，第一次安装 app，需要自己手动导入书源，可以从公众号 **[开源阅读]**
  、QQ 群、酷安评论里获取由书友制作分享的书源。
- 正文出现缺字漏字、内容缺失、排版错乱等情况，有可能是净化规则或简繁转换出现问题。
- 漫画源看书显示乱码，**阅读与其他软件的源并不通用**，请导入阅读的支持的漫画源！

**2023/11/01**
* 更新cronet: 121.0.6167.164
* 更新cronet: 121.0.6167.143
* 更新cronet: 121.0.6167.71
* 更新cronet: 120.0.6099.193
* 更新cronet: 120.0.6099.144
* 更新cronet: 120.0.6099.43
* 更新cronet: 119.0.6045.163
* 更新cronet: 119.0.6045.134
* 更新cronet: 119.0.6045.66

- 修复一些 bug

**2023/08/02**

- 更新 cronet: 117.0.5938.60
- 书签导出 md 格式
- 优化进度同步,减少 webDav 下载次数

**2023/07/30**

- 更新 cronet: 115.0.5790.138

- 更新 cronet: 115.0.5790.136
- 更新 kotlin 1.9.0, 迁移到 ksp
- 后台导出书籍
- 订阅添加跳转 url 拦截, js, 返回 true 拦截,js 变量 url,可以通过 js 打开 url,比如调用阅读搜索 java.searchBook(
  bookName),添加书架等 java.addBook(bookUrl),简化规则写法,不用 webView js 注入
- 导出单个书籍的书签
- 其它优化与 bug 修复
- 其中一些更新由 Horis, Xwite, ag2s20150909 提供

**2023/07/20**

- 更新 cronet: 115.0.5790.85
- 阅读菜单添加生效的替换规则
- 修复没有下一页遮挡菜单问题
- 优化 epub 导出
- 其它一些优化和 bug 修复
- 其中一些更新由 Horis, Xwite, Discut 提供

**2023/07/09**

- 更新 cronet: 114.0.5735.196
- 修复朗读可能崩溃的 bug
- add Vietnamese language
- 修复部分图片无法访问的 bug
- 修复阿里云 tts
- 其它一些优化和 bug 修复
- 其中一些更新由 Xwite, Horis 提供

**2023/06/26**

- 书架更新时显示剩余更新数量,在书架布局里配置
- 添加退出按钮
- 发现添加全部加入书架功能
- 其它一些优化和 bug 修复
- 其中一些更新由 Xwite, Horis 提供

**2023/06/19**

- 更新 cronet: 114.0.5735.130
- 修复书源拖动排序乱跳的问题
- 上传导出支持压缩,导入自动解压

**2023/06/15**

- 修复闪退 bug

**2023/06/14**

- 更新 cronet: 114.0.5735.60
- 修复长按菜单全文搜索结果不全或无结果问题
- 优化全文搜索速度
- 修复正文页数太多时并行获取问题
- 禁用 js 调用一些类防止一些恶意书源
- 其它一些优化
- 其中一些更新由 Xwite, Horis 提供

**2023/06/06**

- 更新 cronet: 114.0.5735.57
- 书架管理界面点击书名打开书籍
- 修复目录无法加载问题
- epub 分割导出功能
- 其它一些优化
- 其中一些更新由 Xwite, Horis, Discut 提供

**2023/05/19**

- 更新 cronet: 113.0.5672.131

- 目录格式化 js 添加一个公用变量 gInt, int 类型默认值 0

> 示例 1

```
"第" + index + "章" + title
```

> 示例 2

```
gInt++
"第" + gInt + "章" + title
```

- 优化修复 bug
- 其中一些更新由 Xwite, Horis 提供

**2023/05/16**

- 添加格式化目录规则,只能写 js,不用@js:标志,提供变量 index 和 title,index 从 1 开始
- 正文添加标题规则,结果更新到目录,有些网站只能在正文获取正确的标题
- 优化 web 端
- 其它一些优化
- 其中一些更新由 Xwite, Horis 提供

**2023/05/13**

- 修复在线 tts 朗读失败 bug

**2023/05/12**

- web: 修复进度同步和快捷键设置；添加间距设置；优化超长章节列表渲染；同步触发：关闭浏览器，切换应用，切换 tab，返回
- 替换规则添加排除范围字段
- 迁移到 Androidx Media3
- 其它一些优化
- 其中一些更新由 Xwite, Horis, ag2s20150909 提供

**2023/05/08**

- 更新 cronet: 113.0.5672.76
- web: 全新传书页面 [MakeHui](https://github.com/MakeHui)；修正源编辑列表操作逻辑和多选性能
- 优化部分文本提示 toast
- webView: 忽略部分网站的证书错误
- 备份恢复 webDav: 输入密码后自动验证
- 换源添加加载字数选项
- 修复全文搜索开始 bug
- 其中一些更新由 Xwite, Horis, Jason Yao 提供

**2023/05/03**

- 文件类书源文件后缀识别：自动识别失败后会读取下载链接 UrlOption 的 type 字段

```
https://www.example.com/file/ajzjxhxjncnc, {type: "txt"}
```

- 更新 cronet: 112.0.5615.135

- 源添加 jsLib 字段

> 注入 JavaScript 到 RhinoJs 引擎中，支持两种格式
> `JavaScript Code` 直接填写 JavaScript 片段
> `{"example":"https://www.example.com/js/example.js", ...}` 自动复用已经下载的 js 文件

- 导入书源菜单添加选择选中更新源,选中新增源
- web 端迁移到 vue3, 部分功能未实现
- 添加本地密码设置,备份涉及到的敏感信息用密码加密后再备份,如 webdav 密码等
- 修复 epub 章节异常分割的 bug
- 其它一些优化
- 其中一些更新由 Xwite, Horis 提供

**2023/04/02**

- 更新 cronet: 112.0.5615.47
- 添加文字下划线
- 其它一些优化
- 其中一些更新由 Xwite, Horis 提供

**2023/04/01**

- 原 app 最低支持版本提升到 android7.0
- 创建 lollipop 版本支持 android5.0
- 增加内置文件管理,管理私有文件
- 书籍分组增加允许下拉刷新设置

**2023/03/29**

- 修复低于 android7.0 版本无法恢复备份的问题
- 修复低版本安卓崩溃的问题

**2023/03/28**

- 更新 cronet: 111.0.5563.115
- 更新 rhino: 1.7.14-2
- 修复 bug
- 详情页下拉刷新
- 导出为本地文件时不保留 vip 标识
- 列表结果为 NativeObject 时支持{{}}@get@put##规则

```
{bookId: 1}
https://www.example.com/book/{{result.bookId}}
```

- 书架整理搜索支持分类和简介
- 其中一些更新由 Xwite, Horis 提供

**2023/03/21**

- 修复书签界面删除条目后界面错乱 bug
- 一些带有搜索框的界面自动隐藏软键盘
- 本地书籍和远程书籍导入界面支持压缩包
- 内置了两个直链上传配置,可以通过导入默认切换
- 修复无法导入不在数组内的单个书源的本地文件
- getVariable() 默认返回 ""
- 修复 bug
- 其中一些更新由 Xwite, Horis 提供

**2023/03/14**

- 更新 cronet: 111.0.5563.57
- 优化文件型书源,解决压缩文件编码不是 UTF-8 报错问题
- js 添加非对称加密和签名算法
- 文件类书源支持 zip 7z rar4 解压
- java.ajax(url: Any)自动判断是列表还是字符串
- 修复一些 bug
- 其中一些更新由 Xwite, Horis, ag2s20150909 提供
- 修复 js 加密算法

**2023/03/12**

- 远程书籍添加 webDav 多配置
- 更新文件类书源详情页界面逻辑
- 尝试修复语音朗读
- 修复特定情况下书籍导入界面计数错误
- 修复阅读界面导航栏更新不及时
- 修复某些以空白开头的链接的拼接
- 修复某些空白备份恢复的错误弹窗
- 修复章节都在一个 xhtml 里面的 epub 的内容解析
- 修复某些 epub 文件里不规范 html 文档的解析
- 本地备份也采用压缩包,和 webDav 备份保持一致,从 webDav 下载的备份文件不需要解压可以直接恢复
- 本地书籍和远程书籍界面添加筛选功能
- 其中一些更新由 Horis 和 Xwite 提供

**2023/03/03**

- 朗读速度添加数值显示
- 章节进度添加 xx/yyy 格式
- 远程书籍单独配置 webDav,多个 webDav 看情况再添加

**2023/02/27**

- 优化新建书源和订阅源的默认值和退出时的修改判断
- 优化分组更新时界面刷新
- 一些优化 by Horis

**2023/02/22**

- 添加自定义字典规则
- 一些优化 by Horis

**2023/02/16**

- 更新 cronet: 110.0.5481.65
- 添加清除 WebView 数据 by Horis
- 用到通知的时候才提示通知权限获取
- 修改订阅源编辑界面和书源一样
- 一些优化 by Horis 和 Xwite

**2023/02/09**

- 添加通知权限设置提示
- 更新日志添加关闭按钮
- 订阅源添加黑名单和白名单,为列表用,分隔支持正则,如果有黑名单,黑名单匹配返回空白,
  没有黑名单再判断白名单,在白名单中的才通过, 都没有不做处理
- 更新 web 编辑；web 书架章节序号更改后会**同步序号**，更精确的已读字数同步请**返回书架界面** by Xwite

**2023/01/31**

- web 书架: 修复进度 bug 和章节跳转 bug，段落内嵌文字图片懒加载 by Xwite

**2023/01/29**

- 优化英文两端对齐排版
- web 书架：进度同步精确到已读字数，返回书架时同步 app by Xwite
- 一些优化 by Horis

**2023/01/20**

- web 书架不限制最大宽度 by Xwite
- 一些优化 by Horis

**2023/01/10**

- 其他一些有分组的地方也支持独立排序
- 优化搜索,优化缓存,尝试解决部分书源占用内存过大导致 OOM
- 修复中文 AndroidZipFile 不能读取非 ASCII 字符文件名 by ag2s20150909
- 其它一些优化

**2023/01/06**

- 书架分组支持独立排序
- 适配 android 13 主题图标
- 一些优化 by Horis

---

- [2022 年日志](https://github.com/gedoor/legado/blob/record2022/app/src/main/assets/updateLog.md)
- [2021 年日志](https://github.com/gedoor/legado/blob/record2021/app/src/main/assets/updateLog.md)
